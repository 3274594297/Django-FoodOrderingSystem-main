{% extends 'myadmin/base.html' %} 
{% load static %} 

{% block content-header %}
    ä¼šå‘˜ç®¡ç† <small>ä¼šå‘˜ä¿¡æ¯åˆ—è¡¨</small>
{% endblock %}

{% block content %}
<div class="card">
    <div class="table-header-tools">
        <h3 style="font-size: 18px;"> ä¼šå‘˜ä¿¡æ¯è¡¨</h3>
        
        <form action="{% url 'myadmin_member_index' 1 %}" method="get" class="search-form">
            <input type="text" name="keyword" class="form-control" placeholder="æœç´¢æ˜µç§°..." value="{{ request.GET.keyword }}">
            <button type="submit" class="btn btn-primary">ğŸ”</button>
        </form>
    </div>

    <div style="overflow-x: auto;">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>æ˜µç§°</th>
                    <th>å¤´åƒ</th>
                    <th>è”ç³»ç”µè¯</th>
                    <th>å½“å‰çŠ¶æ€</th>
                    <th>æ·»åŠ æ—¶é—´</th>
                    <th>ä¿®æ”¹æ—¶é—´</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody>
                {% for vo in memberlist %}
                <tr>
                    <td>{{ vo.id }}</td>
                    <td>{{ vo.nickname }}</td>
                    <td>
                        {% if vo.avatar %}
                            <img src="/static/uploads/member/{{ vo.avatar }}" class="img-avatar">
                        {% else %}
                            <span style="font-size: 24px;">ğŸ‘¤</span>
                        {% endif %}
                    </td>
                    <td>{{ vo.mobile }}</td>
                    <td>
                        {% if vo.status == 1 %}
                            <span class="status-label status-success">æ­£å¸¸</span>
                        {% elif vo.status == 2 %}
                            <span class="status-label status-danger">ç¦ç”¨</span>
                        {% elif vo.status == 9 %}
                            <span class="status-label status-danger" style="background:#f5f5f5; color:#999;">å·²åˆ é™¤</span>
                        {% else %}
                            <span class="status-label status-danger">æœªçŸ¥</span>
                        {% endif %}
                    </td>
                    <td style="font-size: 12px; color: #666;">{{ vo.create_at|date:'Y-m-d H:i:s' }}</td>
                    <td style="font-size: 12px; color: #666;">{{ vo.update_at|date:'Y-m-d H:i:s' }}</td>
                    <td>
                        <a href="{% url 'myadmin_member_edit' vo.id %}" class="btn btn-success" style="padding: 4px 8px; font-size: 12px;">ç¼–è¾‘</a>
                        <a href="{% url 'myadmin_member_del' vo.id %}" class="btn btn-danger del" style="padding: 4px 8px; font-size: 12px;">åˆ é™¤</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="table-header-tools" style="margin-top: 20px; border-top: 1px solid #eee; padding-top: 20px;">
        <a href="{% url 'myadmin_member_add' %}" class="btn btn-primary">â• æ·»åŠ ä¼šå‘˜</a>
        
        <div class="pagination">
            <a href="{% url 'myadmin_member_index' pIndex|add:-1 %}">&laquo;</a>
            {% for p in plist %}
                <a href="{% url 'myadmin_member_index' p %}" 
                   class="{% if p == pIndex %}current{% endif %}">
                   {{p}}
                </a>
            {% endfor %}
            <a href="{% url 'myadmin_member_index' pIndex|add:1 %}">&raquo;</a>
        </div>
    </div>
</div>
{% endblock %}